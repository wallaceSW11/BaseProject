# InternacionalizaÃ§Ã£o (i18n)

Este projeto suporta internacionalizaÃ§Ã£o usando Vue I18n com os seguintes idiomas:

- ðŸ‡§ðŸ‡· PortuguÃªs (Brasil) - pt-BR
- ðŸ‡ºðŸ‡¸ English (US) - en-US

## Estrutura

### Arquivos de TraduÃ§Ã£o

Os arquivos de traduÃ§Ã£o estÃ£o localizados em `src/locales/`:

- `pt-BR.ts` - TraduÃ§Ãµes em portuguÃªs brasileiro
- `en-US.ts` - TraduÃ§Ãµes em inglÃªs americano
- `index.ts` - ConfiguraÃ§Ã£o e exportaÃ§Ã£o dos locales

### Plugin i18n

O plugin Vue I18n estÃ¡ configurado em `src/plugins/i18n.ts` e Ã© registrado automaticamente no `main.ts`.

### Store de Locale

A Pinia store `src/stores/locale.ts` gerencia o estado do idioma selecionado e:

- Persiste a escolha no localStorage
- Detecta automaticamente o idioma do navegador
- Sincroniza com o Vue I18n

## Como Usar

### No Template

Use a funÃ§Ã£o `t()` do composable `useI18n`:

```vue
<template>
  <h1>{{ t("home.title") }}</h1>
  <p>{{ t("common.appName") }}</p>
</template>

<script setup lang="ts">
import { useI18n } from "vue-i18n";

const { t } = useI18n();
</script>
```

### No Script

```typescript
import { useI18n } from "vue-i18n";

const { t, locale } = useI18n();

// Obter traduÃ§Ã£o
const message = t("common.save");

// Mudar idioma
locale.value = "en-US";
```

### Usando o Composable useLocale

```typescript
import { useLocale } from "@/composables/useLocale";

const { locale, setLocale, locales, t } = useLocale();

// Mudar idioma
setLocale("pt-BR");
```

### Usando a Store

```typescript
import { useLocaleStore } from "@/stores/locale";

const localeStore = useLocaleStore();

// Mudar idioma
localeStore.setLocale("en-US");

// Idioma atual
console.log(localeStore.currentLocale);
```

### Componente LanguageSelector

O componente `LanguageSelector` estÃ¡ disponÃ­vel globalmente e pode ser usado em qualquer template:

```vue
<template>
  <LanguageSelector />
</template>
```

## Adicionando Novas TraduÃ§Ãµes

1. Adicione as chaves no arquivo `src/locales/pt-BR.ts`:

```typescript
export default {
  myModule: {
    title: "Meu TÃ­tulo",
    description: "Minha DescriÃ§Ã£o",
  },
};
```

2. Adicione as traduÃ§Ãµes correspondentes em `src/locales/en-US.ts`:

```typescript
export default {
  myModule: {
    title: "My Title",
    description: "My Description",
  },
};
```

3. Use no template:

```vue
<template>
  <h1>{{ t("myModule.title") }}</h1>
</template>
```

## Adicionando Novos Idiomas

1. Crie um novo arquivo de traduÃ§Ã£o em `src/locales/` (ex: `es-ES.ts`)
2. Adicione as traduÃ§Ãµes seguindo a mesma estrutura dos arquivos existentes
3. Importe e registre no `src/locales/index.ts`:

```typescript
import esES from "./es-ES";

export const messages = {
  "pt-BR": ptBR,
  "en-US": enUS,
  "es-ES": esES,
};

export const availableLocales = [
  { code: "pt-BR", name: "PortuguÃªs (Brasil)", flag: "ðŸ‡§ðŸ‡·" },
  { code: "en-US", name: "English (US)", flag: "ðŸ‡ºðŸ‡¸" },
  { code: "es-ES", name: "EspaÃ±ol", flag: "ðŸ‡ªðŸ‡¸" },
];
```

4. Atualize o tipo `LocaleCode` se necessÃ¡rio

## DetecÃ§Ã£o AutomÃ¡tica de Idioma

O sistema detecta automaticamente o idioma do navegador na primeira visita. A preferÃªncia do usuÃ¡rio Ã© salva no localStorage e mantida nas prÃ³ximas visitas.

## Testes

Os testes da store de locale estÃ£o em `src/stores/__tests__/locale.spec.ts`.

Para executar os testes:

```bash
npm run test:unit
```
